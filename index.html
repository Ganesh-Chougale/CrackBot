<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Input Chatbot</title>
</head>
<body>
    <h1>Voice Input Chatbot</h1>
    <button id="toggle-btn">Start Listening</button>
    <p id="response"></p>

    <script>
        const toggleBtn = document.getElementById('toggle-btn');
        const responseText = document.getElementById('response');
        
        // Initialize the SpeechRecognition API
        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        
        let isListening = false;

        recognition.onresult = (event) => {
            const voiceInput = event.results[0][0].transcript;
            console.log('You said: ', voiceInput);
            responseText.innerText = `You said: ${voiceInput}`;
            const botResponse = simpleChatbot(voiceInput);
            responseText.innerText += `\nChatbot response: ${botResponse}`;
            speak(botResponse);
        };

        recognition.onerror = (event) => {
            console.error('Error occurred in recognition: ' + event.error);
        };

        toggleBtn.addEventListener('click', () => {
            if (isListening) {
                recognition.stop();
                toggleBtn.innerText = 'Start Listening';
            } else {
                recognition.start();
                toggleBtn.innerText = 'Stop Listening';
            }
            isListening = !isListening; // Toggle listening state
        });

        function simpleChatbot(input) {
            // Basic chatbot logic
            if (input.toLowerCase().includes('hello')) {
                return 'Hello! How can I assist you today?';
            } else {
                return "I'm not sure how to respond to that.";
            }
        }

        function speak(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            window.speechSynthesis.speak(utterance);
        }
    </script>
</body>
</html>
